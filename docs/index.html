<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CCKit2</title><meta name="description" content="Documentation for CCKit2"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">CCKit2</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>CCKit2</h1></div><div class="tsd-panel tsd-typography"><a id="cckit2" class="tsd-anchor"></a><h1 class="tsd-anchor-link">CCKit2<a href="#cckit2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>An advanced UI framework for ComputerCraft written in TypeScript, targeting both Phoenix and CraftOS systems.</p>
<a id="getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Instructions vary depending on what OS and language you're using.</p>
<a id="1-installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">1. Installation<a href="#1-installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="phoenix" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Phoenix<a href="#phoenix" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>NOTE: These instructions are written for the future. CCKit2 is not currently available in the public repos. More information will be provided when CCKit2 is available on Phoenix.</strong></p>
<p>These steps only apply to users who installed the &quot;minimal&quot; OS without a desktop. Desktop users already have everything installed.</p>
<p>Install the <code>cckit2</code> package through <code>apt</code>:</p>
<pre><code class="bash"><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">apt</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">cckit2</span>
</code><button type="button">Copy</button></pre>

<p>You will also need a window manager that's compatible with CCKit2.</p>
<ul>
<li>Hydra supports running multiple applications side-by-side on a single desktop, with window decorations and dragging. However, it must be run separately from the app. This is what comes preinstalled on the desktop distribution.</li>
<li>The framebuffer window manager can be used to run a single application from the terminal. It does not support window decorations or dragging, and has limited multi-window support.</li>
</ul>
<p>For Hydra support, run <code>sudo apt install hydra cckit2-wm-hydra</code>. For basic framebuffer support, run <code>sudo apt install cckit2-wm-fb</code>.</p>
<a id="craftos" class="tsd-anchor"></a><h4 class="tsd-anchor-link">CraftOS<a href="#craftos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To install system-wide, run <code>pastebin run 2GuhGwmB</code>. This will place CCKit2's files in <code>/CCKit2</code>. Note that applications in a folder will need to have <code>CCKit2</code> copied inside to work properly, or have a line adjusting <code>package.path</code> to look in the root.</p>
<p>Alternatively, download and extract the latest build of CCKit2 for CraftOS from the Releases page. This will include the CraftOS window manager with it, so it won't need any extra fiddling to work. Then copy the <code>CCKit2</code> folder into the root of the computer.</p>
<a id="from-source" class="tsd-anchor"></a><h4 class="tsd-anchor-link">From source<a href="#from-source" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you prefer to build from source:</p>
<ol>
<li>Clone the CCKit2 repo, as well as the repo for the window manager of your choice.</li>
<li>Run <code>npm install</code> in each to get the required packages.</li>
<li>Run <code>npm run build</code> in each to build the library.</li>
<li>Copy <code>bin/CCKit2</code> in each repo to the computer, merging the WM files into the core library.</li>
</ol>
<ul>
<li>If you're using Phoenix, copy to <code>/usr/lib/CCKit2</code>. The files here will override the default package in <code>/usr/lib/libCCKit2.a</code>.</li>
<li>If you're using CraftOS, copy to <code>/CCKit2</code>.</li>
</ul>
<ol start="5">
<li>Install the TypeScript support library.</li>
</ol>
<ul>
<li>If you're using Phoenix, install the <code>typescript</code> package (<code>sudo apt install typescript</code>), or copy <code>bin/typescript.lua</code> to <code>/usr/lib</code>.</li>
<li>If you're using CraftOS, copy <code>bin/typescript.lua</code> to <code>/typescript.lua</code>.</li>
</ul>
<a id="2-project-set-up" class="tsd-anchor"></a><h3 class="tsd-anchor-link">2. Project Set-Up<a href="#2-project-set-up" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="typescript" class="tsd-anchor"></a><h4 class="tsd-anchor-link">TypeScript<a href="#typescript" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>TypeScript is the preferred language for CCKit2, as it provides strong typing and syntax features that help keep your code clean and stable.</p>
<p>The quickest way to create a new TypeScript project is to clone the <a href="https://github.com/Phoenix-ComputerCraft/CCKit2-Template">template repo</a>. This will have all of the required configuration ready to go. After downloading it, open the folder in the terminal and run <code>npm install</code> to install the dependencies. Then open <code>package.json</code> and replace the placeholder text with info about your project (recommended if publishing on GitHub).</p>
<p>Alternatively, you may set it up manually:</p>
<ol>
<li>Create a new empty directory and open it in a terminal.</li>
<li>Run <code>npm init</code> to create a new project, and answer each question. When it asks for an entry point, give it <code>src/index.ts</code> (or your app's main program).</li>
<li>Run <code>npm install --save-dev @jackmacwindows/typescript-to-lua @jackmacwindows/lua-types @phoenix-cc/cckit2</code> to install TSTL and CCKit2's typings.</li>
<li>Install a system runtime if required:</li>
</ol>
<ul>
<li>For Phoenix, or CraftOS using libsystem-craftos, run <code>npm install --save-dev @phoenix-cc/libsystem</code>.</li>
<li>For CraftOS, or Phoenix using libcraftos, run <code>npm install --save-dev @jackmacwindows/craftos-types</code>.</li>
</ul>
<ol start="5">
<li>Create a file named <code>tsconfig.json</code>, and insert the following contents:</li>
</ol>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;$schema&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://raw.githubusercontent.com/MCJack123/TypeScriptToLua/master/tsconfig-schema.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;target&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ESNext&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;lib&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;ESNext&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;moduleResolution&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;strict&quot;</span><span class="hl-1">: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;typeRoots&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;./node_modules&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;types&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;@jackmacwindows/lua-types/cc&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;@phoenix-cc/cckit2&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;baseUrl&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./src&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;rootDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;src&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;outDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;bin&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;removeComments&quot;</span><span class="hl-1">: </span><span class="hl-4">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;tstl&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;luaTarget&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;CC&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;luaLibImport&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;require&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;luaLibName&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;typescript&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;plugins&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">            {</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./node_modules/@phoenix-cc/cckit2/resolution.ts&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;include&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;./src/*.ts&quot;</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ol start="6">
<li>Create a directory called <code>src</code>, and create a file named <code>index.ts</code> inside. This will serve as your app's main file.</li>
</ol>
<a id="lua" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Lua<a href="#lua" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Lua projects are not recommended because they don't have the same safety guarantees as TypeScript, and may require some more verbose code with wrappers to accomplish certain tasks. However, it remains an option for users who don't know or simply wish to avoid TypeScript.</p>
<p>Creating a Lua project is as simple as making a single Lua file for the app. Place the following code at the top of every Lua file you create, as it loads important compatibility wrappers for Lua projects:</p>
<pre><code class="lua"><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">LuaWrappers</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2.LuaWrappers&quot;</span>
</code><button type="button">Copy</button></pre>

<p>When loading CCKit2 classes, use <code>LuaWrappers.import</code> instead of <code>require</code>, as it returns a more manageable module format than the one that TypeScript exports.</p>
<p>To create a class, use <code>local MyClass = LuaWrappers.class(&quot;MyClass&quot;, super, fields)</code>. The second argument is the base class to extend from (<code>nil</code> if there is none), and the third is a table of methods and fields in the class. The fields table holds methods of the class directly, as well as descriptors (defined as tables with a <code>get</code> and optional <code>set</code> function inside), and default values to set for certain properties. The <code>____constructor</code> field is the constructor for the class. All methods must take a <code>self</code> parameter before other parameters.</p>
<p>For compatibility with LuaLS annotations, use the following layout to define classes:</p>
<pre><code class="lua"><span class="hl-6">---</span><span class="hl-4">@class</span><span class="hl-6"> </span><span class="hl-7">MyClass</span><span class="hl-1">:</span><span class="hl-6"> </span><span class="hl-7">BaseClass</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">MyClass</span><span class="hl-1"> = {}</span><br/><br/><span class="hl-5">MyClass</span><span class="hl-1">.</span><span class="hl-7">field</span><span class="hl-1"> = </span><span class="hl-8">2</span><br/><br/><span class="hl-6">---</span><span class="hl-4">@param</span><span class="hl-6"> </span><span class="hl-5">arg</span><span class="hl-6"> </span><span class="hl-7">type</span><br/><span class="hl-6">---</span><span class="hl-4">@return</span><span class="hl-6"> </span><span class="hl-7">type</span><br/><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-7">MyClass</span><span class="hl-1">:</span><span class="hl-0">method</span><span class="hl-1">(</span><span class="hl-5">arg</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">-- ...</span><br/><span class="hl-9">end</span><br/><br/><span class="hl-5">MyClass</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">class</span><span class="hl-1">(</span><span class="hl-2">&quot;MyClass&quot;</span><span class="hl-1">, </span><span class="hl-5">BaseClass</span><span class="hl-1">, </span><span class="hl-5">MyClass</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>This will ensure the methods and fields are assigned to the class properly.</p>
<p>To construct an instance of a class, call <code>LuaWrappers.new</code> with the class + any arguments to pass to the constructor. If you want to check if an object is an instance of a class, call <code>LuaWrappers.instanceOf(obj, class)</code>.</p>
<p>Lua Language Server meta files are provided in the SDK ZIP, under the <code>Typings/Lua</code> subdirectory. These can be loaded in your IDE to provide autocompletion for CCKit2 types in Lua. Be aware that the typing provided in LLS is much weaker than the type guarantees in TypeScript, so accuracy may vary.</p>
<a id="3-basic-template" class="tsd-anchor"></a><h3 class="tsd-anchor-link">3. Basic Template<a href="#3-basic-template" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here's a barebones template program to demonstrate the structure of a CCKit2 application.</p>
<pre><code class="ts"><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-5">CCApplication</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2/CCApplication&quot;</span><span class="hl-1">;</span><br/><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-5">CCApplicationDelegate</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2/CCApplicationDelegate&quot;</span><span class="hl-1">;</span><br/><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-5">CCApplicationMain</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2/CCApplicationMain&quot;</span><span class="hl-1">;</span><br/><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-5">CCDefaultWindowManagerConnection</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2/CCDefaultWindowManagerConnection&quot;</span><span class="hl-1">;</span><br/><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-5">CCViewController</span><span class="hl-1"> </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2/CCViewController&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">ViewController</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-7">CCViewController</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-0">viewDidLoad</span><span class="hl-1">(): </span><span class="hl-7">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">super</span><span class="hl-1">.</span><span class="hl-0">viewDidLoad</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-6">// Add views to the view controller here.</span><br/><span class="hl-1">        </span><span class="hl-6">// let myView = new CCLabel({x: 1, y: 1}, &quot;Hello World!&quot;);</span><br/><span class="hl-1">        </span><span class="hl-6">// this.view.addSubview(myView);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">AppDelegate</span><span class="hl-1"> </span><span class="hl-4">implements</span><span class="hl-1"> </span><span class="hl-7">CCApplicationDelegate</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">applicationWindowManagerConnection</span><span class="hl-1">(</span><span class="hl-5">app</span><span class="hl-1">: </span><span class="hl-7">CCApplication</span><span class="hl-1">): </span><span class="hl-7">CCWindowManagerConnection</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-0">CCDefaultWindowManagerConnection</span><span class="hl-1">(</span><span class="hl-5">app</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">CCApplicationMain</span><span class="hl-1">(</span><span class="hl-5">ViewController</span><span class="hl-1">, </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">AppDelegate</span><span class="hl-1">(), ...</span><span class="hl-5">$vararg</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">LuaWrappers</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2.LuaWrappers&quot;</span><br/><span class="hl-6">---</span><span class="hl-4">@module</span><span class="hl-6"> </span><span class="hl-2">&quot;CCKit2.CCApplicationMain&quot;</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">CCApplicationMain</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2.CCApplicationMain&quot;</span><br/><span class="hl-6">---</span><span class="hl-4">@module</span><span class="hl-6"> </span><span class="hl-2">&quot;CCKit2.CCDefaultWindowManagerConnection&quot;</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">CCDefaultWindowManagerConnection</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2.CCDefaultWindowManagerConnection&quot;</span><br/><span class="hl-6">---</span><span class="hl-4">@module</span><span class="hl-6"> </span><span class="hl-2">&quot;CCKit2.CCViewController&quot;</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">CCViewController</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">&quot;CCKit2.CCViewController&quot;</span><br/><br/><span class="hl-6">---</span><span class="hl-4">@class</span><span class="hl-6"> </span><span class="hl-7">ViewController</span><span class="hl-1">:</span><span class="hl-6"> </span><span class="hl-7">CCViewController</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">ViewController</span><span class="hl-1"> = {}</span><br/><br/><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-7">ViewController</span><span class="hl-1">:</span><span class="hl-0">viewDidLoad</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-5">CCViewController</span><span class="hl-1">.</span><span class="hl-7">prototype</span><span class="hl-1">.</span><span class="hl-0">viewDidLoad</span><span class="hl-1">(</span><span class="hl-4">self</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">-- Add views to the view controller here.</span><br/><span class="hl-1">    </span><span class="hl-6">-- local myView = LuaWrappers.new(CCLabel, {x = 1, y = 1}, &quot;Hello World!&quot;)</span><br/><span class="hl-1">    </span><span class="hl-6">-- self.view:addSubview(myView)</span><br/><span class="hl-9">end</span><br/><br/><span class="hl-5">ViewController</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">class</span><span class="hl-1">(</span><span class="hl-2">&quot;ViewController&quot;</span><span class="hl-1">, </span><span class="hl-5">CCViewController</span><span class="hl-1">, </span><span class="hl-5">ViewController</span><span class="hl-1">)</span><br/><br/><span class="hl-6">---</span><span class="hl-4">@class</span><span class="hl-6"> </span><span class="hl-7">AppDelegate</span><span class="hl-1">:</span><span class="hl-6"> </span><span class="hl-7">CCApplicationDelegate</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">AppDelegate</span><span class="hl-1"> = {}</span><br/><br/><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-7">AppDelegate</span><span class="hl-1">:</span><span class="hl-0">applicationWindowManagerConnection</span><span class="hl-1">(</span><span class="hl-5">app</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-0">CCDefaultWindowManagerConnection</span><span class="hl-1">(</span><span class="hl-4">nil</span><span class="hl-1">, </span><span class="hl-5">app</span><span class="hl-1">)</span><br/><span class="hl-9">end</span><br/><br/><span class="hl-5">AppDelegate</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">class</span><span class="hl-1">(</span><span class="hl-2">&quot;AppDelegate&quot;</span><span class="hl-1">, </span><span class="hl-4">nil</span><span class="hl-1">, </span><span class="hl-5">AppDelegate</span><span class="hl-1">)</span><br/><br/><span class="hl-0">CCApplicationMain</span><span class="hl-1">(</span><span class="hl-4">nil</span><span class="hl-1">, </span><span class="hl-5">ViewController</span><span class="hl-1">, </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">new</span><span class="hl-1">(</span><span class="hl-5">AppDelegate</span><span class="hl-1">), </span><span class="hl-4">...</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Read on to learn what each of these parts does.</p>
<a id="anatomy-of-an-app" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Anatomy of an App<a href="#anatomy-of-an-app" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>CCKit2 follows the model-view-controller (MVC) paradigm for organization. This refers to the three categories of core types used in CCKit2:</p>
<ul>
<li>Model: Refers to the data for the application, often stored in a JSON file or Lua table.</li>
<li>View: Refers to the visual objects on screen. In CCKit2, these all are types of <code>CCView</code>.</li>
<li>Controller: Refers to an object which takes information from the model, relays it to the views for display, and takes actions back from views to store in the model. This is the main part of an app, and is an extension of the <code>CCViewController</code> class.</li>
</ul>
<p>Developers who have used Apple's frameworks for macOS and iOS (AppKit/Cocoa and UIKit, respectively) will recognize the feel of CCKit2, which is heavily inspired by these libraries' API design.</p>
<a id="views" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Views<a href="#views" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Views are the core elements in a UI. CCKit2 provides many different view types - some display information, some take input from a user, and some act as a container for other views. All views inherit from the <code>CCView</code> base class, which can also be instantiated by itself like any other view type.</p>
<p>Views are created by constructing the class for that specific view type, usually receiving a frame or position in the process, along with other required arguments:</p>
<pre><code class="ts"><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-5">myView</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">CCView</span><span class="hl-1">({</span><span class="hl-5">x:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-5">y:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-5">width:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-5">height:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">});</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-5">myLabel</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">CCLabel</span><span class="hl-1">({</span><span class="hl-5">x:</span><span class="hl-1"> </span><span class="hl-8">4</span><span class="hl-1">, </span><span class="hl-5">y:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">}, </span><span class="hl-2">&quot;Label&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">myView</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">new</span><span class="hl-1">(</span><span class="hl-5">CCView</span><span class="hl-1">, {</span><span class="hl-5">x</span><span class="hl-1"> = </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-5">y</span><span class="hl-1"> = </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-5">width</span><span class="hl-1"> = </span><span class="hl-8">10</span><span class="hl-1">, </span><span class="hl-5">height</span><span class="hl-1"> = </span><span class="hl-8">5</span><span class="hl-1">})</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">myLabel</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">new</span><span class="hl-1">(</span><span class="hl-5">CCLabel</span><span class="hl-1">, {</span><span class="hl-5">x</span><span class="hl-1"> = </span><span class="hl-8">4</span><span class="hl-1">, </span><span class="hl-5">y</span><span class="hl-1"> = </span><span class="hl-8">5</span><span class="hl-1">}, </span><span class="hl-2">&quot;Label&quot;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Views must be added to the <em>view hierarchy</em> to be rendered on screen. This means that views won't automatically appear on screen - they need a parent to go under, which must also have a parent up until the <em>root view</em> inside a view controller. Call the <code>addSubview(view: CCView)</code> method on any view to add it as a child of that view. For views placed directly onto a window, use the <code>view</code> property of the view controller. Inside the <code>viewDidLoad</code> method of a view controller (more about that below):</p>
<pre><code class="ts"><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-5">view</span><span class="hl-1">.</span><span class="hl-0">addSubview</span><span class="hl-1">(</span><span class="hl-5">myView</span><span class="hl-1">);</span><br/><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-5">view</span><span class="hl-1">.</span><span class="hl-0">addSubview</span><span class="hl-1">(</span><span class="hl-5">myLabel</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-4">self</span><span class="hl-1">.</span><span class="hl-7">view</span><span class="hl-1">:</span><span class="hl-0">addSubview</span><span class="hl-1">(</span><span class="hl-5">myView</span><span class="hl-1">)</span><br/><span class="hl-4">self</span><span class="hl-1">.</span><span class="hl-7">view</span><span class="hl-1">:</span><span class="hl-0">addSubview</span><span class="hl-1">(</span><span class="hl-5">myLabel</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Properties of a view may be edited and updated in real-time without requiring the app to request a redraw. For example, simply changing the <code>text</code> property of a label will update the text on-screen immediately:</p>
<pre><code class="ts"><span class="hl-5">myLabel</span><span class="hl-1">.</span><span class="hl-5">text</span><span class="hl-1"> = </span><span class="hl-2">&quot;New text&quot;</span><span class="hl-1">; </span><span class="hl-6">// will appear immediately</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-5">myLabel</span><span class="hl-1">.</span><span class="hl-7">text</span><span class="hl-1"> = </span><span class="hl-2">&quot;New text&quot; </span><span class="hl-6">-- will appear immediately</span>
</code><button type="button">Copy</button></pre>

<p>(Note: Custom view types will need to use getters/setters which call the <code>setNeedsDisplay</code> method to make this happen. All built-in views have this functionality implemented.)</p>
<a id="view-controllers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">View Controllers<a href="#view-controllers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A view controller is a class that is responsible for bringing up and taking down views, and responding to events from views. They are usually rooted inside a window, but view controllers may also be placed inside other view controllers.</p>
<p>View controllers define &quot;scenes&quot; for an application, creating the views inside the window and laying them out properly. The application starts with a single view controller class that defines the contents of the root window, which is passed to the <code>CCApplicationMain</code> entrypoint. More view controllers may be presented either by calling the <code>present</code> method on a window, which replaces the window's view controller with a new one, or by creating a new window with a new view controller.</p>
<p>View controllers can catch many lifecycle events, such as the root view appearing and disappearing, but by far the most important event is the <code>viewDidLoad</code> method. This method is called when the view controller's view is fully loaded, and is an app's chance to add in its own views.</p>
<p>To create a view controller, simply create a class which extends from <code>CCViewController</code>:</p>
<pre><code class="ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-7">MyViewController</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-7">CCViewController</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-6">---</span><span class="hl-4">@class</span><span class="hl-6"> </span><span class="hl-7">MyViewController</span><span class="hl-1">:</span><span class="hl-6"> </span><span class="hl-7">CCViewController</span><br/><span class="hl-4">local</span><span class="hl-1"> </span><span class="hl-5">MyViewController</span><span class="hl-1"> = {}</span><br/><br/><span class="hl-6">-- ...</span><br/><br/><span class="hl-5">MyViewController</span><span class="hl-1"> = </span><span class="hl-5">LuaWrappers</span><span class="hl-1">.</span><span class="hl-0">class</span><span class="hl-1">(</span><span class="hl-2">&quot;MyViewController&quot;</span><span class="hl-1">, </span><span class="hl-5">CCViewController</span><span class="hl-1">, </span><span class="hl-5">MyViewController</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>To catch an event, such as <code>viewDidLoad</code>, override that method in the view controller, making sure to call the <code>super</code> implementation in the process:</p>
<pre><code class="ts"><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-0">viewDidLoad</span><span class="hl-1">(): </span><span class="hl-4">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">super</span><span class="hl-1">.</span><span class="hl-0">viewDidLoad</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    }</span>
</code><button type="button">Copy</button></pre>

<pre><code class="lua"><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-7">MyViewController</span><span class="hl-1">:</span><span class="hl-0">viewDidLoad</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-5">CCViewController</span><span class="hl-1">.</span><span class="hl-7">prototype</span><span class="hl-1">.</span><span class="hl-0">viewDidLoad</span><span class="hl-1">(</span><span class="hl-4">self</span><span class="hl-1">)</span><br/><br/><span class="hl-9">end</span>
</code><button type="button">Copy</button></pre>

<a id="application-and-main-loop" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Application and Main Loop<a href="#application-and-main-loop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>CCApplicationMain</code> function must be called at the end of the main program file to start the application. Prior set-up may be done to e.g. parse command-line arguments, but <code>CCApplicationMain</code> must come after. This function takes two parameters: the class which defines the first view controller, and an object which implements the <code>CCApplicationDelegate</code> interface.</p>
<p>When <code>CCApplicationMain</code> runs, it creates a new instance of the <code>CCApplication</code> class. This class is used to handle all runtime event handling and distribution. To allow CCKit2 to run on many different operating systems, <code>CCApplication</code> depends on an adapter interface which connects CCKit2 to the system. This interface is called <code>CCWindowManagerConnection</code>, and can be implemented in different ways for different systems.</p>
<p>To pick the right <code>CCWindowManagerConnection</code> instance, CCKit2 asks the app to select one, through the <code>CCApplicationDelegate</code> interface which is passed to <code>CCApplicationMain</code>. For most purposes, calling the <code>CCDefaultWindowManagerConnection</code> function is the most appropriate, which picks the right one for the current platform, but applications have the option to override this.</p>
<p><code>CCApplicationDelegate</code> can also implement optional methods to receive application-wide events, such as when the app is about to finish launching or exit.</p>
<p>The application delegate class in the skeleton above is appropriate for most applications, but it can be extended to receive those events too.</p>
<a id="license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The core CCKit2 framework and CraftOS window manager are licensed under the GNU General Public License, version 2 or later. The <code>CCWindowManagerConnection</code> implementations for Phoenix are licensed under the same license as Phoenix, which is the Phoenix EULA at this time.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-package" name="package"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Package</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#cckit2"><span>CCKit2</span></a><ul><li><a href="#getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#1-installation"><span>1. <wbr/>Installation</span></a></li><li><ul><li><a href="#phoenix"><span>Phoenix</span></a></li><li><a href="#craftos"><span>CraftOS</span></a></li><li><a href="#from-source"><span>From source</span></a></li></ul></li><li><a href="#2-project-set-up"><span>2. <wbr/>Project <wbr/>Set-<wbr/>Up</span></a></li><li><ul><li><a href="#typescript"><span>Type<wbr/>Script</span></a></li><li><a href="#lua"><span>Lua</span></a></li></ul></li><li><a href="#3-basic-template"><span>3. <wbr/>Basic <wbr/>Template</span></a></li></ul></li><li><a href="#anatomy-of-an-app"><span>Anatomy of an <wbr/>App</span></a></li><li><ul><li><a href="#views"><span>Views</span></a></li><li><a href="#view-controllers"><span>View <wbr/>Controllers</span></a></li><li><a href="#application-and-main-loop"><span>Application and <wbr/>Main <wbr/>Loop</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">CCKit2</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
